2025-11-27 09:18:48.385 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/verify-code?email=768331153@qq.com&code=515715&type=RESET_PASSWORD
2025-11-27 09:18:48.387 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:18:48.524 [http-nio-9006-exec-4] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:18:48.525 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:18:48.710 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:18:48.740 [http-nio-9006-exec-4] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:18:48.742 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:18:48.791 [http-nio-9006-exec-4] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:18:48.791 [http-nio-9006-exec-4] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:18:48.793 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:18:48.862 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:18:48.889 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:18:49.024 [http-nio-9006-exec-4] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:18:49.024 [http-nio-9006-exec-4] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:18:49.025 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/verify-code?email=768331153@qq.com&code=515715&type=RESET_PASSWORD
2025-11-27 09:18:49.025 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:18:49.025 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:18:49.025 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/verify-code
2025-11-27 09:18:49.025 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:18:49.025 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: null
2025-11-27 09:18:49.025 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:18:49.025 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:18:49.025 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:18:49.030 [http-nio-9006-exec-4] INFO  h.p.z.auth.controller.AuthController - éªŒè¯éªŒè¯ç APIè¯·æ±‚: é‚®ç®±=768331153@qq.com, ç±»å‹=RESET_PASSWORD
2025-11-27 09:18:49.097 [http-nio-9006-exec-4] ERROR h.p.z.a.s.i.VerificationCodeServiceImpl - éªŒè¯ç éªŒè¯å¼‚å¸¸ - é‚®ç®±: 768331153@qq.com, ç±»å‹: RESET_PASSWORD, é”™è¯¯: Cannot read the array length because "bytes" is null
java.lang.NullPointerException: Cannot read the array length because "bytes" is null
	at hbnu.project.zhiyanbackend.redis.config.Jackson2JsonRedisSerializer.deserialize(Jackson2JsonRedisSerializer.java:85)
	at org.springframework.data.redis.core.AbstractOperations.deserializeValue(AbstractOperations.java:427)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:67)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:166)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:51)
	at hbnu.project.zhiyanbackend.redis.service.RedisService.getCacheObject(RedisService.java:98)
	at hbnu.project.zhiyanbackend.auth.service.impl.VerificationCodeServiceImpl.validateCode(VerificationCodeServiceImpl.java:146)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715)
	at hbnu.project.zhiyanbackend.auth.service.impl.VerificationCodeServiceImpl$$SpringCGLIB$$0.validateCode(<generated>)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl.verifyCode(AuthServiceImpl.java:348)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl$$SpringCGLIB$$0.verifyCode(<generated>)
	at hbnu.project.zhiyanbackend.auth.controller.AuthController.verifyCode(AuthController.java:62)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:18:49.101 [http-nio-9006-exec-4] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:18:49.102 [http-nio-9006-exec-4] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:18:57.540 [http-nio-9006-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/send-verfcode
2025-11-27 09:18:57.542 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:18:57.716 [http-nio-9006-exec-7] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:18:57.716 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:18:57.789 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:18:57.964 [http-nio-9006-exec-7] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:18:57.964 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:18:58.054 [http-nio-9006-exec-7] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:18:58.055 [http-nio-9006-exec-7] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:18:58.055 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:18:58.136 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:18:58.231 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:18:58.452 [http-nio-9006-exec-7] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:18:58.452 [http-nio-9006-exec-7] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:18:58.453 [http-nio-9006-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/send-verfcode
2025-11-27 09:18:58.453 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:18:58.453 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:18:58.453 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/send-verfcode
2025-11-27 09:18:58.453 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:18:58.453 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:18:58.453 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:18:58.453 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:18:58.453 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:18:58.454 [http-nio-9006-exec-7] INFO  h.p.z.auth.controller.AuthController - å‘é€éªŒè¯ç è¯·æ±‚: é‚®ç®±=768331153@qq.com, ç±»å‹=RESET_PASSWORD
2025-11-27 09:18:58.497 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - éªŒè¯ç : 101668
2025-11-27 09:18:58.520 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
2025-11-27 09:18:58.520 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘              ğŸ“§ éªŒè¯ç å·²ç”Ÿæˆï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰                  â•‘
2025-11-27 09:18:58.520 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
2025-11-27 09:18:58.520 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  é‚®ç®±: 768331153@qq.com                                â•‘
2025-11-27 09:18:58.522 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  ç±»å‹: RESET_PASSWORD                                  â•‘
2025-11-27 09:18:58.522 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  éªŒè¯ç : ã€101668                                      â•‘ã€‘
2025-11-27 09:18:58.522 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  æœ‰æ•ˆæœŸ: 10                                          â•‘ åˆ†é’Ÿ
2025-11-27 09:18:58.522 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-11-27 09:19:06.761 [http-nio-9006-exec-7] INFO  h.p.z.a.service.impl.MailServiceImpl - æ–‡æœ¬é‚®ä»¶å‘é€æˆåŠŸ - æ”¶ä»¶äºº: 768331153@qq.com, ä¸»é¢˜: æ™ºç ”å¹³å° - å¯†ç é‡ç½®éªŒè¯ç 
2025-11-27 09:19:06.796 [http-nio-9006-exec-7] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - âœ… éªŒè¯ç å‘é€æˆåŠŸ - é‚®ç®±: 768331153@qq.com, ç±»å‹: RESET_PASSWORD
2025-11-27 09:19:06.796 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        zhiyanauth.verification_codes
        (code, created_at, email, expires_at, is_used, type, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-27 09:19:07.377 [http-nio-9006-exec-7] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:19:07.377 [http-nio-9006-exec-7] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:19:33.841 [http-nio-9006-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/verify-code?email=768331153@qq.com&code=101668&type=RESET_PASSWORD
2025-11-27 09:19:33.842 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:19:34.129 [http-nio-9006-exec-8] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:19:34.129 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:19:34.162 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:19:34.210 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:19:34.210 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:19:34.281 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:19:34.281 [http-nio-9006-exec-8] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:19:34.281 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:19:34.305 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:19:34.337 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:19:34.456 [http-nio-9006-exec-8] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:19:34.456 [http-nio-9006-exec-8] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/verify-code?email=768331153@qq.com&code=101668&type=RESET_PASSWORD
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/verify-code
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: null
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:19:34.457 [http-nio-9006-exec-8] INFO  h.p.z.auth.controller.AuthController - éªŒè¯éªŒè¯ç APIè¯·æ±‚: é‚®ç®±=768331153@qq.com, ç±»å‹=RESET_PASSWORD
2025-11-27 09:19:34.531 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        vc1_0.id,
        vc1_0.code,
        vc1_0.created_at,
        vc1_0.email,
        vc1_0.expires_at,
        vc1_0.is_used,
        vc1_0.type 
    from
        zhiyanauth.verification_codes vc1_0 
    where
        vc1_0.email=? 
        and vc1_0.code=? 
        and vc1_0.type=? 
        and vc1_0.is_used=false
2025-11-27 09:19:34.566 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        vc1_0.id,
        vc1_0.code,
        vc1_0.created_at,
        vc1_0.email,
        vc1_0.expires_at,
        vc1_0.is_used,
        vc1_0.type 
    from
        zhiyanauth.verification_codes vc1_0 
    where
        vc1_0.id=?
2025-11-27 09:19:34.621 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.verification_codes 
    set
        code=?,
        email=?,
        expires_at=?,
        is_used=?,
        type=? 
    where
        id=?
2025-11-27 09:19:34.793 [http-nio-9006-exec-8] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - éªŒè¯ç éªŒè¯æˆåŠŸ(Redis) - é‚®ç®±: 768331153@qq.com, ç±»å‹: RESET_PASSWORD
2025-11-27 09:19:34.794 [http-nio-9006-exec-8] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:19:34.794 [http-nio-9006-exec-8] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:24:24.219 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/send-verfcode
2025-11-27 09:24:24.220 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:24:24.343 [http-nio-9006-exec-10] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:24:24.344 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:24:24.421 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:24:24.491 [http-nio-9006-exec-10] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:24:24.492 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:24:24.567 [http-nio-9006-exec-10] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:24:24.567 [http-nio-9006-exec-10] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:24:24.568 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:24:24.605 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:24:24.622 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:24:24.649 [http-nio-9006-exec-10] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:24:24.649 [http-nio-9006-exec-10] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:24:24.650 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/send-verfcode
2025-11-27 09:24:24.650 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:24:24.650 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:24:24.650 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/send-verfcode
2025-11-27 09:24:24.650 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:24:24.650 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:24:24.650 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:24:24.650 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:24:24.650 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:24:24.651 [http-nio-9006-exec-10] INFO  h.p.z.auth.controller.AuthController - å‘é€éªŒè¯ç è¯·æ±‚: é‚®ç®±=768331153@qq.com, ç±»å‹=RESET_EMAILL
2025-11-27 09:24:24.651 [http-nio-9006-exec-10] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:24:24.651 [http-nio-9006-exec-10] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:24:24.652 [http-nio-9006-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: No enum constant hbnu.project.zhiyanbackend.auth.model.enums.VerificationCodeType.RESET_EMAILL] with root cause
java.lang.IllegalArgumentException: No enum constant hbnu.project.zhiyanbackend.auth.model.enums.VerificationCodeType.RESET_EMAILL
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at hbnu.project.zhiyanbackend.auth.model.enums.VerificationCodeType.valueOf(VerificationCodeType.java:1)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl.sendVerificationCode(AuthServiceImpl.java:327)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl$$SpringCGLIB$$0.sendVerificationCode(<generated>)
	at hbnu.project.zhiyanbackend.auth.controller.AuthController.sendVerificationCode(AuthController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:24:24.657 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-27 09:24:24.657 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-27 09:24:24.665 [http-nio-9006-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 09:25:50.789 [http-nio-9006-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/send-verfcode
2025-11-27 09:25:50.791 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:25:51.478 [http-nio-9006-exec-2] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:25:51.478 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:25:51.563 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:25:51.608 [http-nio-9006-exec-2] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:25:51.610 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:25:51.704 [http-nio-9006-exec-2] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:25:51.704 [http-nio-9006-exec-2] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:25:51.705 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:25:51.801 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:25:51.874 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/send-verfcode
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/send-verfcode
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:25:51.991 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:25:51.992 [http-nio-9006-exec-2] INFO  h.p.z.auth.controller.AuthController - å‘é€éªŒè¯ç è¯·æ±‚: é‚®ç®±=768331153@qq.com, ç±»å‹=CHANGE_EMAIL
2025-11-27 09:25:52.038 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - éªŒè¯ç : 385639
2025-11-27 09:25:52.118 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
2025-11-27 09:25:52.118 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘              ğŸ“§ éªŒè¯ç å·²ç”Ÿæˆï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰                  â•‘
2025-11-27 09:25:52.119 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
2025-11-27 09:25:52.120 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  é‚®ç®±: 768331153@qq.com                                â•‘
2025-11-27 09:25:52.122 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  ç±»å‹: CHANGE_EMAIL                                    â•‘
2025-11-27 09:25:52.122 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  éªŒè¯ç : ã€385639                                      â•‘ã€‘
2025-11-27 09:25:52.122 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  æœ‰æ•ˆæœŸ: 10                                          â•‘ åˆ†é’Ÿ
2025-11-27 09:25:52.122 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-11-27 09:25:54.949 [http-nio-9006-exec-2] INFO  h.p.z.a.service.impl.MailServiceImpl - æ–‡æœ¬é‚®ä»¶å‘é€æˆåŠŸ - æ”¶ä»¶äºº: 768331153@qq.com, ä¸»é¢˜: æ™ºç ”å¹³å° - é‚®ç®±å˜æ›´éªŒè¯ç 
2025-11-27 09:25:55.102 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - âœ… éªŒè¯ç å‘é€æˆåŠŸ - é‚®ç®±: 768331153@qq.com, ç±»å‹: CHANGE_EMAIL
2025-11-27 09:25:55.102 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        zhiyanauth.verification_codes
        (code, created_at, email, expires_at, is_used, type, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-27 09:25:55.586 [http-nio-9006-exec-2] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:25:55.586 [http-nio-9006-exec-2] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:27:14.009 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/change-email
2025-11-27 09:27:14.010 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:27:14.140 [http-nio-9006-exec-4] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:27:14.140 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:27:14.176 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:27:14.193 [http-nio-9006-exec-4] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:27:14.194 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:27:14.312 [http-nio-9006-exec-4] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:27:14.313 [http-nio-9006-exec-4] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:27:14.313 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:27:14.409 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:27:14.623 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:27:14.790 [http-nio-9006-exec-4] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:27:14.790 [http-nio-9006-exec-4] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:27:14.791 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/change-email
2025-11-27 09:27:14.791 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:27:14.791 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:27:14.791 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/change-email
2025-11-27 09:27:14.791 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:27:14.791 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:27:14.791 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:27:14.791 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:27:14.791 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:27:14.811 [http-nio-9006-exec-4] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:27:14.811 [http-nio-9006-exec-4] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:27:14.813 [http-nio-9006-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'] with root cause
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:102)
	at org.springframework.boot.validation.autoconfigure.ValidatorAdapter.validate(ValidatorAdapter.java:69)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1399)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:290)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:230)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:180)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:27:14.821 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-27 09:27:14.822 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-27 09:27:14.823 [http-nio-9006-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 09:30:32.460 [http-nio-9006-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/change-email
2025-11-27 09:30:32.462 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:30:32.504 [http-nio-9006-exec-8] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:30:32.505 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:30:32.565 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:30:32.594 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:30:32.595 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:30:32.645 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:30:32.646 [http-nio-9006-exec-8] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:30:32.646 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:30:32.663 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:30:32.674 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:30:32.697 [http-nio-9006-exec-8] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:30:32.697 [http-nio-9006-exec-8] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:30:32.697 [http-nio-9006-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/change-email
2025-11-27 09:30:32.697 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:30:32.697 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:30:32.697 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/change-email
2025-11-27 09:30:32.698 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:30:32.698 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:30:32.698 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:30:32.698 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:30:32.698 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:30:32.700 [http-nio-9006-exec-8] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:30:32.700 [http-nio-9006-exec-8] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:30:32.701 [http-nio-9006-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'] with root cause
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:102)
	at org.springframework.boot.validation.autoconfigure.ValidatorAdapter.validate(ValidatorAdapter.java:69)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1399)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:290)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:230)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:180)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:30:32.703 [http-nio-9006-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-27 09:30:32.703 [http-nio-9006-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-27 09:30:32.704 [http-nio-9006-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 09:31:01.092 [http-nio-9006-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/send-verfcode
2025-11-27 09:31:01.094 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:31:01.277 [http-nio-9006-exec-9] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:31:01.277 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:31:01.300 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:31:01.563 [http-nio-9006-exec-9] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:31:01.564 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:31:01.608 [http-nio-9006-exec-9] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:31:01.608 [http-nio-9006-exec-9] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:31:01.608 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:31:01.711 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:31:01.725 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/send-verfcode
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/send-verfcode
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:31:01.749 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:31:01.750 [http-nio-9006-exec-9] INFO  h.p.z.auth.controller.AuthController - å‘é€éªŒè¯ç è¯·æ±‚: é‚®ç®±=123456@qq.com, ç±»å‹=CHANGE_EMAIL
2025-11-27 09:31:01.774 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - éªŒè¯ç : 572535
2025-11-27 09:31:01.896 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
2025-11-27 09:31:01.896 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘              ğŸ“§ éªŒè¯ç å·²ç”Ÿæˆï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰                  â•‘
2025-11-27 09:31:01.896 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
2025-11-27 09:31:01.896 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  é‚®ç®±: 123456@qq.com                                   â•‘
2025-11-27 09:31:01.896 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  ç±»å‹: CHANGE_EMAIL                                    â•‘
2025-11-27 09:31:01.896 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  éªŒè¯ç : ã€572535                                      â•‘ã€‘
2025-11-27 09:31:01.896 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•‘  æœ‰æ•ˆæœŸ: 10                                          â•‘ åˆ†é’Ÿ
2025-11-27 09:31:01.896 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-11-27 09:31:04.574 [http-nio-9006-exec-9] INFO  h.p.z.a.service.impl.MailServiceImpl - æ–‡æœ¬é‚®ä»¶å‘é€æˆåŠŸ - æ”¶ä»¶äºº: 123456@qq.com, ä¸»é¢˜: æ™ºç ”å¹³å° - é‚®ç®±å˜æ›´éªŒè¯ç 
2025-11-27 09:31:04.602 [http-nio-9006-exec-9] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - âœ… éªŒè¯ç å‘é€æˆåŠŸ - é‚®ç®±: 123456@qq.com, ç±»å‹: CHANGE_EMAIL
2025-11-27 09:31:04.603 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        zhiyanauth.verification_codes
        (code, created_at, email, expires_at, is_used, type, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-27 09:31:04.640 [http-nio-9006-exec-9] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:31:04.640 [http-nio-9006-exec-9] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:31:36.658 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/change-email
2025-11-27 09:31:36.659 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:31:36.681 [http-nio-9006-exec-10] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:31:36.681 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:31:36.693 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:31:36.707 [http-nio-9006-exec-10] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:31:36.707 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:31:36.718 [http-nio-9006-exec-10] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:31:36.719 [http-nio-9006-exec-10] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:31:36.719 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:31:36.731 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:31:36.741 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/change-email
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/change-email
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:31:36.759 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:31:36.762 [http-nio-9006-exec-10] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:31:36.762 [http-nio-9006-exec-10] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:31:36.762 [http-nio-9006-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'] with root cause
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:102)
	at org.springframework.boot.validation.autoconfigure.ValidatorAdapter.validate(ValidatorAdapter.java:69)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1399)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:290)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:230)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:180)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:31:36.763 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-27 09:31:36.763 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-27 09:31:36.764 [http-nio-9006-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 09:31:46.642 [http-nio-9006-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/change-email
2025-11-27 09:31:46.642 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:31:46.690 [http-nio-9006-exec-1] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:31:46.692 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:31:46.709 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:31:46.719 [http-nio-9006-exec-1] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:31:46.719 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:31:46.732 [http-nio-9006-exec-1] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:31:46.732 [http-nio-9006-exec-1] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:31:46.732 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:31:46.747 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:31:46.854 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:31:46.893 [http-nio-9006-exec-1] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/change-email
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/change-email
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:31:46.894 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:31:46.895 [http-nio-9006-exec-1] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:31:46.895 [http-nio-9006-exec-1] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:31:46.896 [http-nio-9006-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'] with root cause
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:102)
	at org.springframework.boot.validation.autoconfigure.ValidatorAdapter.validate(ValidatorAdapter.java:69)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1399)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:290)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:230)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:180)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:31:46.897 [http-nio-9006-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-27 09:31:46.897 [http-nio-9006-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-27 09:31:46.899 [http-nio-9006-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 09:33:31.397 [http-nio-9006-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/change-email
2025-11-27 09:33:31.398 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:33:31.423 [http-nio-9006-exec-5] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:33:31.424 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:33:31.435 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:33:31.449 [http-nio-9006-exec-5] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:33:31.450 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:33:31.461 [http-nio-9006-exec-5] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:33:31.462 [http-nio-9006-exec-5] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:33:31.463 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:33:31.473 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:33:31.486 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/change-email
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/change-email
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:33:31.511 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:33:31.513 [http-nio-9006-exec-5] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:33:31.513 [http-nio-9006-exec-5] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:33:31.513 [http-nio-9006-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'] with root cause
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Long'. Check configuration for 'userId'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:102)
	at org.springframework.boot.validation.autoconfigure.ValidatorAdapter.validate(ValidatorAdapter.java:69)
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1399)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:290)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:230)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:180)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:33:31.515 [http-nio-9006-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-27 09:33:31.515 [http-nio-9006-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-27 09:33:31.517 [http-nio-9006-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 09:34:34.456 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 09:34:34.462 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-27 09:34:34.556 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:34:34.557 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown initiated...
2025-11-27 09:34:34.559 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown completed.
2025-11-27 09:34:38.769 [main] INFO  h.p.z.ZhiyanBackendApplication - Starting ZhiyanBackendApplication using Java 21.0.8 with PID 17648 (D:\Workspace2\zhiyanbackend\target\classes started by 76833 in D:\Workspace2\zhiyanbackend)
2025-11-27 09:34:38.771 [main] DEBUG h.p.z.ZhiyanBackendApplication - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-27 09:34:38.772 [main] INFO  h.p.z.ZhiyanBackendApplication - The following 1 profile is active: "cloud"
2025-11-27 09:34:39.489 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:34:39.489 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 09:34:39.634 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 16 JPA repository interfaces.
2025-11-27 09:34:39.645 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:34:39.646 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-27 09:34:39.670 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.670 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RememberMeTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.670 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RolePermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.670 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.671 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserAchievementRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.671 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.671 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.671 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.671 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageBodyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.671 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageRecipientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.671 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageSendRecordRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.671 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectMemberRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.672 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.672 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.672 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskSubmissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.672 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:34:39.672 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-27 09:34:40.155 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 9006 (http)
2025-11-27 09:34:40.166 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-27 09:34:40.167 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 09:34:40.247 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 1446 ms
2025-11-27 09:34:40.351 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 09:34:40.396 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 09:34:40.691 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 09:34:40.715 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Starting...
2025-11-27 09:34:51.761 [main] WARN  org.hibernate.orm.jdbc.error - HHH000247: ErrorCode: 0, SQLState: 08001
2025-11-27 09:34:51.761 [main] WARN  org.hibernate.orm.jdbc.error - å°è¯•è¿çº¿å·²å¤±è´¥ã€‚
2025-11-27 09:34:51.762 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query JDBC database metadata
org.hibernate.exception.JDBCConnectionException: Unable to obtain isolated JDBC connection [å°è¯•è¿çº¿å·²å¤±è´¥ã€‚] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:80)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:101)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:51)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:355)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironment(JdbcEnvironmentInitiator.java:149)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:127)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:82)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:133)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:262)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:44)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:255)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:207)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:185)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1395)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.populateSessionFactoryBuilder(EntityManagerFactoryBuilderImpl.java:1475)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1457)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: å°è¯•è¿çº¿å·²å¤±è´¥ã€‚
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:358)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273)
	at org.postgresql.Driver.makeConnection(Driver.java:446)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:373)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:210)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:138)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:499)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:48)
	... 136 common frames omitted
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:136)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262)
	... 150 common frames omitted
2025-11-27 09:34:51.780 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 09:34:51.787 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database dialect: PostgreSQLDialect
	Database version: 13.0
	Default catalog/schema: unknown/unknown
	Autocommit mode: undefined/unknown
	Isolation level: NONE [default NONE]
	JDBC fetch size: undefined/unknown
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 09:34:52.681 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 09:34:52.683 [main] INFO  org.hibernate.orm.jdbc.batch - HHH100501: Automatic JDBC statement batching enabled (maximum batch size 20)
2025-11-27 09:34:52.699 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Starting...
2025-11-27 09:34:53.354 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ZhiyanBackendHikariPool - Added connection org.postgresql.jdbc.PgConnection@4e8036bb
2025-11-27 09:34:53.356 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Start completed.
2025-11-27 09:34:54.787 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyanproject.project_members 
       alter column project_role set data type VARCHAR(32)
2025-11-27 09:34:54.880 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'
2025-11-27 09:34:54.962 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š107]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š107]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š107
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:34:54.966 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'
2025-11-27 09:34:55.029 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š111]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š111]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š111
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:34:55.168 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.task_submission 
       alter column review_status set data type VARCHAR(32)
2025-11-27 09:34:55.226 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.task_user 
       alter column assign_type set data type VARCHAR(32)
2025-11-27 09:34:55.290 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.task_user 
       alter column role_type set data type VARCHAR(32)
2025-11-27 09:34:55.335 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.tasks 
       alter column priority set data type VARCHAR(16)
2025-11-27 09:34:55.360 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.tasks 
       alter column status set data type VARCHAR(32)
2025-11-27 09:34:55.422 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.tasks 
       alter column worktime set data type DECIMAL(10,2)
2025-11-27 09:35:00.429 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:35:00.475 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - JSqlParser is in classpath; If applicable, JSqlParser will be used
2025-11-27 09:35:00.475 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 09:35:01.349 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-27 09:35:01.349 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-27 09:35:01.390 [main] DEBUG h.p.z.s.f.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-27 09:35:02.456 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 09:35:02.674 [main] INFO  h.p.z.a.o.c.OAuth2AutoConfiguration - OAuth2æ¨¡å—åˆå§‹åŒ–å®Œæˆï¼Œå·²å¯ç”¨1ä¸ªæä¾›å•†: [github]
2025-11-27 09:35:02.858 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 9006 (http) with context path '/'
2025-11-27 09:35:02.863 [main] INFO  h.p.z.ZhiyanBackendApplication - Started ZhiyanBackendApplication in 24.422 seconds (process running for 24.972)
2025-11-27 09:35:03.594 [main] INFO  h.p.z.sse.listener.SseTopicListener - åˆå§‹åŒ–SSEä¸»é¢˜è®¢é˜…ç›‘å¬å™¨æˆåŠŸ
2025-11-27 09:35:34.295 [http-nio-9006-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 09:35:34.295 [http-nio-9006-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-27 09:35:34.297 [http-nio-9006-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-27 09:35:34.317 [http-nio-9006-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/change-email
2025-11-27 09:35:34.441 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:35:34.577 [http-nio-9006-exec-2] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:35:34.583 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:35:34.641 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:35:34.700 [http-nio-9006-exec-2] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:35:34.707 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:35:35.047 [http-nio-9006-exec-2] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:35:35.049 [http-nio-9006-exec-2] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:35:35.052 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:35:35.172 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:35:35.219 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:35:35.332 [http-nio-9006-exec-2] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:35:35.332 [http-nio-9006-exec-2] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 768331153@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:35:35.334 [http-nio-9006-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/change-email
2025-11-27 09:35:35.334 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:35:35.334 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:35:35.335 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/change-email
2025-11-27 09:35:35.335 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:35:35.335 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:35:35.335 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:35:35.335 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:35:35.335 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:35:35.459 [http-nio-9006-exec-2] INFO  h.p.z.auth.controller.AuthController - ä¿®æ”¹é‚®ç®±è¯·æ±‚: æ—§é‚®ç®±=768331153@qq.comï¼Œæ–°é‚®ç®±=123456@qq.com
2025-11-27 09:35:35.459 [http-nio-9006-exec-2] INFO  h.p.z.a.service.impl.AuthServiceImpl - å¤„ç†ä¿®æ”¹ç”¨æˆ·é‚®ç®±è¯·æ±‚ - ç”¨æˆ·ID: 1993608950184022016, æ–°é‚®ç®±: 123456@qq.com
2025-11-27 09:35:35.461 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:35:35.569 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.email=?
2025-11-27 09:35:35.967 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        vc1_0.id,
        vc1_0.code,
        vc1_0.created_at,
        vc1_0.email,
        vc1_0.expires_at,
        vc1_0.is_used,
        vc1_0.type 
    from
        zhiyanauth.verification_codes vc1_0 
    where
        vc1_0.email=? 
        and vc1_0.code=? 
        and vc1_0.type=? 
        and vc1_0.is_used=false
2025-11-27 09:35:36.055 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - éªŒè¯ç éªŒè¯æˆåŠŸ(Redis) - é‚®ç®±: 123456@qq.com, ç±»å‹: CHANGE_EMAIL
2025-11-27 09:35:36.078 [http-nio-9006-exec-2] ERROR h.p.z.a.service.impl.AuthServiceImpl - ä¿®æ”¹ç”¨æˆ·é‚®ç®±å¤±è´¥ - ç”¨æˆ·ID: 1993608950184022016, æ–°é‚®ç®±: 123456@qq.com, é”™è¯¯: Cannot read the array length because "bytes" is null
java.lang.NullPointerException: Cannot read the array length because "bytes" is null
	at hbnu.project.zhiyanbackend.redis.config.Jackson2JsonRedisSerializer.deserialize(Jackson2JsonRedisSerializer.java:85)
	at org.springframework.data.redis.core.AbstractOperations.deserializeValue(AbstractOperations.java:427)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:67)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:166)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:51)
	at hbnu.project.zhiyanbackend.redis.service.RedisService.getCacheObject(RedisService.java:98)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl.changeEmail(AuthServiceImpl.java:836)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl$$SpringCGLIB$$0.changeEmail(<generated>)
	at hbnu.project.zhiyanbackend.auth.controller.AuthController.changeEmail(AuthController.java:299)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:35:36.094 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.users 
    set
        avatar_content_type=?,
        avatar_data=?,
        avatar_size=?,
        created_by=?,
        email=?,
        institution=?,
        is_deleted=?,
        is_locked=?,
        name=?,
        password_hash=?,
        research_tags=?,
        status=?,
        title=?,
        updated_at=?,
        updated_by=?,
        version=? 
    where
        id=? 
        and version=?
2025-11-27 09:35:36.131 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.verification_codes 
    set
        code=?,
        email=?,
        expires_at=?,
        is_used=?,
        type=? 
    where
        id=?
2025-11-27 09:35:36.297 [http-nio-9006-exec-2] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:35:36.297 [http-nio-9006-exec-2] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:38:20.906 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 09:38:20.912 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-27 09:38:20.964 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:38:20.971 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown initiated...
2025-11-27 09:38:20.983 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown completed.
2025-11-27 09:38:25.863 [main] INFO  h.p.z.ZhiyanBackendApplication - Starting ZhiyanBackendApplication using Java 21.0.8 with PID 18712 (D:\Workspace2\zhiyanbackend\target\classes started by 76833 in D:\Workspace2\zhiyanbackend)
2025-11-27 09:38:25.864 [main] DEBUG h.p.z.ZhiyanBackendApplication - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-27 09:38:25.865 [main] INFO  h.p.z.ZhiyanBackendApplication - The following 1 profile is active: "cloud"
2025-11-27 09:38:26.515 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:38:26.515 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 09:38:26.665 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 16 JPA repository interfaces.
2025-11-27 09:38:26.675 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:38:26.676 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-27 09:38:26.701 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.701 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RememberMeTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.701 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RolePermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.701 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.701 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserAchievementRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.701 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.702 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.702 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.702 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageBodyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.702 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageRecipientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.703 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageSendRecordRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.703 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectMemberRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.703 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.703 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.703 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskSubmissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.703 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:38:26.703 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-11-27 09:38:27.149 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 9006 (http)
2025-11-27 09:38:27.158 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-27 09:38:27.158 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 09:38:27.214 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 1324 ms
2025-11-27 09:38:27.312 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 09:38:27.339 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 09:38:27.601 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 09:38:27.618 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Starting...
2025-11-27 09:38:28.091 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ZhiyanBackendHikariPool - Added connection org.postgresql.jdbc.PgConnection@2ad6aeb8
2025-11-27 09:38:28.093 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Start completed.
2025-11-27 09:38:28.215 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 09:38:28.549 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://152.136.245.180:5432/zhiyanplatform?searchPath=zhiyanauth,zhiyanproject,zhiyantasks,zhiyanmessage]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 17.6
	Default catalog/schema: zhiyanplatform/zhiyanauth
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 09:38:29.340 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 09:38:29.342 [main] INFO  org.hibernate.orm.jdbc.batch - HHH100501: Automatic JDBC statement batching enabled (maximum batch size 20)
2025-11-27 09:38:29.608 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyanproject.project_members 
       alter column project_role set data type VARCHAR(32)
2025-11-27 09:38:29.629 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'
2025-11-27 09:38:29.664 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š107]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š107]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š107
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:38:29.667 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'
2025-11-27 09:38:29.900 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š111]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š111]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  ä½ç½®ï¼š111
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:38:30.101 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.task_submission 
       alter column review_status set data type VARCHAR(32)
2025-11-27 09:38:30.211 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.task_user 
       alter column assign_type set data type VARCHAR(32)
2025-11-27 09:38:30.227 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.task_user 
       alter column role_type set data type VARCHAR(32)
2025-11-27 09:38:30.236 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.tasks 
       alter column priority set data type VARCHAR(16)
2025-11-27 09:38:30.254 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.tasks 
       alter column status set data type VARCHAR(32)
2025-11-27 09:38:30.303 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.tasks 
       alter column worktime set data type DECIMAL(10,2)
2025-11-27 09:38:35.647 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:38:35.690 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - JSqlParser is in classpath; If applicable, JSqlParser will be used
2025-11-27 09:38:35.690 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 09:38:36.495 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-27 09:38:36.496 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-27 09:38:36.534 [main] DEBUG h.p.z.s.f.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-27 09:38:37.588 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 09:38:37.793 [main] INFO  h.p.z.a.o.c.OAuth2AutoConfiguration - OAuth2æ¨¡å—åˆå§‹åŒ–å®Œæˆï¼Œå·²å¯ç”¨1ä¸ªæä¾›å•†: [github]
2025-11-27 09:38:37.972 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 9006 (http) with context path '/'
2025-11-27 09:38:37.977 [main] INFO  h.p.z.ZhiyanBackendApplication - Started ZhiyanBackendApplication in 12.396 seconds (process running for 13.091)
2025-11-27 09:38:38.621 [main] INFO  h.p.z.sse.listener.SseTopicListener - åˆå§‹åŒ–SSEä¸»é¢˜è®¢é˜…ç›‘å¬å™¨æˆåŠŸ
2025-11-27 09:39:37.782 [http-nio-9006-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 09:39:37.783 [http-nio-9006-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-27 09:39:37.784 [http-nio-9006-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-27 09:39:37.802 [http-nio-9006-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/change-email
2025-11-27 09:39:37.893 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:39:37.940 [http-nio-9006-exec-2] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe tokenéªŒè¯æˆåŠŸï¼Œç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:39:37.944 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:39:37.973 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:39:37.987 [http-nio-9006-exec-2] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:39:37.993 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:39:38.113 [http-nio-9006-exec-2] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:39:38.116 [http-nio-9006-exec-2] DEBUG h.p.z.s.c.SecurityContextHolder - è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:39:38.117 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:39:38.157 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:39:38.323 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:39:39.822 [http-nio-9006-exec-2] DEBUG h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°ç”¨æˆ· 1993608950184022016 çš„RememberMe tokenè¿‡æœŸæ—¶é—´
2025-11-27 09:39:39.822 [http-nio-9006-exec-2] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMeè®¤è¯æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 123456@qq.com, è§’è‰²æ•°: 1
2025-11-27 09:39:39.823 [http-nio-9006-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/change-email
2025-11-27 09:39:39.824 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:39:39.824 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:39:39.824 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/change-email
2025-11-27 09:39:39.824 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:39:39.824 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:39:39.824 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:39:39.824 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:39:39.824 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:39:39.945 [http-nio-9006-exec-2] INFO  h.p.z.auth.controller.AuthController - ä¿®æ”¹é‚®ç®±è¯·æ±‚: æ—§é‚®ç®±=768331153@qq.comï¼Œæ–°é‚®ç®±=123456@qq.com
2025-11-27 09:39:39.945 [http-nio-9006-exec-2] INFO  h.p.z.a.service.impl.AuthServiceImpl - å¤„ç†ä¿®æ”¹ç”¨æˆ·é‚®ç®±è¯·æ±‚ - ç”¨æˆ·ID: 1993608950184022016, æ–°é‚®ç®±: 123456@qq.com
2025-11-27 09:39:39.947 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:39:40.258 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.email=?
2025-11-27 09:39:41.315 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        vc1_0.id,
        vc1_0.code,
        vc1_0.created_at,
        vc1_0.email,
        vc1_0.expires_at,
        vc1_0.is_used,
        vc1_0.type 
    from
        zhiyanauth.verification_codes vc1_0 
    where
        vc1_0.email=? 
        and vc1_0.code=? 
        and vc1_0.type=? 
        and vc1_0.is_used=false
2025-11-27 09:39:41.476 [http-nio-9006-exec-2] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - éªŒè¯ç éªŒè¯æˆåŠŸ(Redis) - é‚®ç®±: 123456@qq.com, ç±»å‹: CHANGE_EMAIL
2025-11-27 09:39:41.594 [http-nio-9006-exec-2] WARN  h.p.z.a.service.impl.AuthServiceImpl - æ¸…ç†æ—§Tokenå¤±è´¥(ä¸å½±å“ä¸»æµç¨‹) - userId: 1993608950184022016, é”™è¯¯: Cannot read the array length because "bytes" is null
2025-11-27 09:39:41.603 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:39:41.730 [http-nio-9006-exec-2] INFO  h.p.z.a.service.impl.AuthServiceImpl - ç”¨æˆ·é‚®ç®±ä¿®æ”¹æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, æ—§é‚®ç®±: 123456@qq.com, æ–°é‚®ç®±: 123456@qq.com
2025-11-27 09:39:41.829 [http-nio-9006-exec-2] INFO  h.p.z.auth.controller.AuthController - é‚®ç®±ä¿®æ”¹æˆåŠŸï¼Œå·²æ¸…é™¤RememberMe Cookie
2025-11-27 09:39:41.906 [http-nio-9006-exec-2] DEBUG h.p.z.s.c.SecurityContextHolder - æ¸…é™¤ç”¨æˆ·ä¸Šä¸‹æ–‡ - ç”¨æˆ·ID: 1993608950184022016, ç”¨æˆ·å: å²šç†™
2025-11-27 09:39:41.906 [http-nio-9006-exec-2] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:41:36.812 [http-nio-9006-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/login
2025-11-27 09:41:36.812 [http-nio-9006-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 09:41:36.813 [http-nio-9006-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/login
2025-11-27 09:41:36.813 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:41:36.813 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:41:36.813 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/login
2025-11-27 09:41:36.813 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:41:36.813 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:41:36.813 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:41:36.813 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:41:36.813 [http-nio-9006-exec-5] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:41:36.822 [http-nio-9006-exec-5] INFO  h.p.z.auth.controller.AuthController - ç”¨æˆ·ç™»å½•APIè¯·æ±‚: é‚®ç®±=123456@qq.com
2025-11-27 09:41:36.830 [http-nio-9006-exec-5] INFO  h.p.z.a.service.impl.AuthServiceImpl - å¤„ç†ç”¨æˆ·ç™»å½•: é‚®ç®±=123456@qq.com
2025-11-27 09:41:36.904 [http-nio-9006-exec-5] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - å¼€å§‹åŠ è½½ç”¨æˆ·ä¿¡æ¯: 123456@qq.com
2025-11-27 09:41:36.906 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.email=? 
        and u1_0.is_deleted=false
2025-11-27 09:41:36.923 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:41:36.936 [http-nio-9006-exec-5] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]æƒé™åŠ è½½å®Œæˆï¼Œå…±0ä¸ªæƒé™
2025-11-27 09:41:36.937 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:41:36.960 [http-nio-9006-exec-5] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:41:36.960 [http-nio-9006-exec-5] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[123456@qq.com]åŠ è½½å®Œæˆ - è§’è‰²æ•°: 1, æƒé™æ•°: 0
2025-11-27 09:41:37.027 [http-nio-9006-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-27 09:41:37.032 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:41:37.285 [http-nio-9006-exec-5] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - ç”¨æˆ·[ID: 1993608950184022016]è§’è‰²åŠ è½½å®Œæˆ: [USER]
2025-11-27 09:41:37.376 [http-nio-9006-exec-5] INFO  h.p.z.a.service.impl.AuthServiceImpl - === ç”Ÿæˆçš„Tokenä¿¡æ¯ ===
2025-11-27 09:41:37.376 [http-nio-9006-exec-5] INFO  h.p.z.a.service.impl.AuthServiceImpl - ç”¨æˆ·ID: 1993608950184022016
2025-11-27 09:41:37.376 [http-nio-9006-exec-5] INFO  h.p.z.a.service.impl.AuthServiceImpl - ç”¨æˆ·è§’è‰²: USER
2025-11-27 09:41:37.376 [http-nio-9006-exec-5] INFO  h.p.z.a.service.impl.AuthServiceImpl - è®¿é—®Token: eyJhbGciOiJIUzUxMiJ9.eyJyb2xlcyI6IlVTRVIiLCJ1c2VySWQiOjE5OTM2MDg5NTAxODQwMjIwMTYsImVtYWlsIjoiMTIzNDU2QHFxLmNvbSIsInN1YiI6IjE5OTM2MDg5NTAxODQwMjIwMTYiLCJpc3MiOiJ6aGl5YW4tcGxhdGZvcm0iLCJpYXQiOjE3NjQyMDc2OTcsImV4cCI6MTc2NDIwOTQ5N30.NmwSe_MdOSU4JS_PwSTc0C2ZkPRx-KKF_7O3YrB8AZsLtBdIyEAcIYjHYYhKRCOIj22SN-f3dzJAPRltBwh4lA
2025-11-27 09:41:37.376 [http-nio-9006-exec-5] INFO  h.p.z.a.service.impl.AuthServiceImpl - åˆ·æ–°Token: eyJhbGciOiJIUzUxMiJ9.eyJyb2xlcyI6IlVTRVIiLCJ1c2VySWQiOjE5OTM2MDg5NTAxODQwMjIwMTYsImVtYWlsIjoiMTIzNDU2QHFxLmNvbSIsInN1YiI6IjE5OTM2MDg5NTAxODQwMjIwMTYiLCJpc3MiOiJ6aGl5YW4tcGxhdGZvcm0iLCJpYXQiOjE3NjQyMDc2OTcsImV4cCI6MTc2Njc5OTY5N30.fc2sk-U09eWytU6qAJOKFjz7J2uS5NqtfHprA9XvXebGCVqQhK1aR4mTxzHqx8F3Wc616OliVngrMzP0ylMHnA
2025-11-27 09:41:37.440 [http-nio-9006-exec-5] INFO  h.p.z.a.service.impl.AuthServiceImpl - JWTä»¤ç‰Œç”ŸæˆæˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, è®°ä½æˆ‘: true
2025-11-27 09:41:37.442 [http-nio-9006-exec-5] DEBUG h.p.z.a.service.impl.AuthServiceImpl - ä¸ºç”¨æˆ· 1993608950184022016 åˆ›å»ºRememberMe token
2025-11-27 09:41:37.443 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:41:37.490 [http-nio-9006-exec-5] DEBUG h.p.z.a.service.impl.AuthServiceImpl - ä¸ºç”¨æˆ· 1993608950184022016 åˆ›å»ºRememberMe tokenæˆåŠŸ
2025-11-27 09:41:37.491 [http-nio-9006-exec-5] INFO  h.p.z.a.service.impl.AuthServiceImpl - ç”¨æˆ·ç™»å½•æˆåŠŸ - ç”¨æˆ·ID: 1993608950184022016, é‚®ç®±: 123456@qq.com, è®°ä½æˆ‘: true
2025-11-27 09:41:37.495 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        zhiyanauth.remember_me_tokens
        (created_time, expiry_time, token, user_id, id) 
    values
        (?, ?, ?, ?, ?)
2025-11-27 09:41:37.523 [http-nio-9006-exec-5] DEBUG h.p.z.auth.controller.AuthController - å·²æ·»åŠ RememberMe Cookie
2025-11-27 09:41:37.528 [http-nio-9006-exec-5] DEBUG h.p.z.s.i.HeaderInterceptor - æ¸…ç†è¯·æ±‚ä¸Šä¸‹æ–‡å®Œæˆ
2025-11-27 09:53:00.483 [ZhiyanBackendHikariPool:housekeeper] WARN  com.zaxxer.hikari.pool.PoolBase - ZhiyanBackendHikariPool - Failed to validate connection org.postgresql.jdbc.PgConnection@a6807ae (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-11-27 09:53:24.641 [ZhiyanBackendHikariPool:housekeeper] WARN  com.zaxxer.hikari.pool.PoolBase - ZhiyanBackendHikariPool - Failed to validate connection org.postgresql.jdbc.PgConnection@60529673 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-11-27 09:54:29.568 [ZhiyanBackendHikariPool:housekeeper] WARN  com.zaxxer.hikari.pool.PoolBase - ZhiyanBackendHikariPool - Failed to validate connection org.postgresql.jdbc.PgConnection@2ad6aeb8 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
