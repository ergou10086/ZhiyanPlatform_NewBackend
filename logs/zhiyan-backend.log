2025-11-27 08:57:29.498 [http-nio-9006-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /zhiyan/projects/1993843554648199168
2025-11-27 08:57:29.505 [http-nio-9006-exec-5] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 08:57:29.634 [http-nio-9006-exec-5] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe token无效或已过期
2025-11-27 08:57:29.635 [http-nio-9006-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 08:57:29.639 [http-nio-9006-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-27 08:57:29.650 [http-nio-9006-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-27 08:57:29.651 [http-nio-9006-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-27 08:57:29.676 [http-nio-9006-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 08:58:04.757 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /zhiyan/projects/1993843554648199168
2025-11-27 08:58:05.066 [http-nio-9006-exec-4] DEBUG h.p.z.basic.utils.JwtUtils - 获取JWT Claims失败: JWT expired 53557066 milliseconds ago at 2025-11-26T10:05:28.000Z. Current time: 2025-11-27T00:58:05.066Z. Allowed clock skew: 0 milliseconds.
2025-11-27 08:58:05.067 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 08:58:05.207 [http-nio-9006-exec-4] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe token无效或已过期
2025-11-27 08:58:05.207 [http-nio-9006-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 08:58:05.207 [http-nio-9006-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-27 08:58:05.208 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-27 08:58:05.208 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-27 08:58:05.211 [http-nio-9006-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 08:58:19.969 [http-nio-9006-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/login
2025-11-27 08:58:19.970 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 08:58:20.052 [http-nio-9006-exec-7] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe token无效或已过期
2025-11-27 08:58:20.052 [http-nio-9006-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-27 08:58:20.053 [http-nio-9006-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/login
2025-11-27 08:58:20.053 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 08:58:20.053 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 08:58:20.053 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/login
2025-11-27 08:58:20.053 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 08:58:20.054 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 08:58:20.054 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 08:58:20.054 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 08:58:20.054 [http-nio-9006-exec-7] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 08:58:20.306 [http-nio-9006-exec-7] INFO  h.p.z.auth.controller.AuthController - 用户登录API请求: 邮箱=yxy3213493159@qq.com
2025-11-27 08:58:20.308 [http-nio-9006-exec-7] INFO  h.p.z.a.service.impl.AuthServiceImpl - 处理用户登录: 邮箱=yxy3213493159@qq.com
2025-11-27 08:58:20.430 [http-nio-9006-exec-7] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 开始加载用户信息: yxy3213493159@qq.com
2025-11-27 08:58:20.436 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.email=? 
        and u1_0.is_deleted=false
2025-11-27 08:58:20.483 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 08:58:20.526 [http-nio-9006-exec-7] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993606695821119488]权限加载完成，共0个权限
2025-11-27 08:58:20.527 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:58:20.594 [http-nio-9006-exec-7] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993606695821119488]角色加载完成: [USER]
2025-11-27 08:58:20.595 [http-nio-9006-exec-7] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[yxy3213493159@qq.com]加载完成 - 角色数: 1, 权限数: 0
2025-11-27 08:58:20.703 [http-nio-9006-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-27 08:58:20.708 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:58:20.802 [http-nio-9006-exec-7] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993606695821119488]角色加载完成: [USER]
2025-11-27 08:58:20.851 [http-nio-9006-exec-7] INFO  h.p.z.a.service.impl.AuthServiceImpl - === 生成的Token信息 ===
2025-11-27 08:58:20.851 [http-nio-9006-exec-7] INFO  h.p.z.a.service.impl.AuthServiceImpl - 用户ID: 1993606695821119488
2025-11-27 08:58:20.851 [http-nio-9006-exec-7] INFO  h.p.z.a.service.impl.AuthServiceImpl - 用户角色: USER
2025-11-27 08:58:20.851 [http-nio-9006-exec-7] INFO  h.p.z.a.service.impl.AuthServiceImpl - 访问Token: eyJhbGciOiJIUzUxMiJ9.eyJyb2xlcyI6IlVTRVIiLCJ1c2VySWQiOjE5OTM2MDY2OTU4MjExMTk0ODgsImVtYWlsIjoieXh5MzIxMzQ5MzE1OUBxcS5jb20iLCJzdWIiOiIxOTkzNjA2Njk1ODIxMTE5NDg4IiwiaXNzIjoiemhpeWFuLXBsYXRmb3JtIiwiaWF0IjoxNzY0MjA1MTAwLCJleHAiOjE3NjQyMDY5MDB9.Nn2_CC5ftO7MlVjUxnBI97Blwl9Ie_vMt0oB8liKwuquuv3NLHL_NyW42rhaAjHymwE0DHtjj3xCKfrkHI0sFQ
2025-11-27 08:58:20.851 [http-nio-9006-exec-7] INFO  h.p.z.a.service.impl.AuthServiceImpl - 刷新Token: eyJhbGciOiJIUzUxMiJ9.eyJyb2xlcyI6IlVTRVIiLCJ1c2VySWQiOjE5OTM2MDY2OTU4MjExMTk0ODgsImVtYWlsIjoieXh5MzIxMzQ5MzE1OUBxcS5jb20iLCJzdWIiOiIxOTkzNjA2Njk1ODIxMTE5NDg4IiwiaXNzIjoiemhpeWFuLXBsYXRmb3JtIiwiaWF0IjoxNzY0MjA1MTAwLCJleHAiOjE3NjY3OTcxMDB9.ICXj2W8MHifgA3jMClhpUAZMMdfFCx7fej4_MYrtIG63LhMKPJd5dIthet5PT90iQVQb6bRqqrYjs2tviQIBqA
2025-11-27 08:58:20.895 [http-nio-9006-exec-7] INFO  h.p.z.a.service.impl.AuthServiceImpl - JWT令牌生成成功 - 用户ID: 1993606695821119488, 记住我: true
2025-11-27 08:58:20.895 [http-nio-9006-exec-7] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 为用户 1993606695821119488 创建RememberMe token
2025-11-27 08:58:20.911 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 08:58:20.944 [http-nio-9006-exec-7] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 为用户 1993606695821119488 创建RememberMe token成功
2025-11-27 08:58:20.947 [http-nio-9006-exec-7] INFO  h.p.z.a.service.impl.AuthServiceImpl - 用户登录成功 - 用户ID: 1993606695821119488, 邮箱: yxy3213493159@qq.com, 记住我: true
2025-11-27 08:58:20.948 [http-nio-9006-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        zhiyanauth.remember_me_tokens
        (created_time, expiry_time, token, user_id, id) 
    values
        (?, ?, ?, ?, ?)
2025-11-27 08:58:21.043 [http-nio-9006-exec-7] DEBUG h.p.z.auth.controller.AuthController - 已添加RememberMe Cookie
2025-11-27 08:58:21.053 [http-nio-9006-exec-7] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 08:58:49.772 [http-nio-9006-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/login
2025-11-27 08:58:49.773 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 08:58:49.915 [http-nio-9006-exec-8] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe token验证成功，用户ID: 1993606695821119488
2025-11-27 08:58:49.916 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:58:49.969 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 08:58:50.024 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993606695821119488]权限加载完成，共0个权限
2025-11-27 08:58:50.025 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:58:50.079 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993606695821119488]角色加载完成: [USER]
2025-11-27 08:58:50.080 [http-nio-9006-exec-8] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993606695821119488, 用户名: yxy
2025-11-27 08:58:50.082 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 08:58:50.166 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 08:58:50.309 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 08:58:50.497 [http-nio-9006-exec-8] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 刷新用户 1993606695821119488 的RememberMe token过期时间
2025-11-27 08:58:50.497 [http-nio-9006-exec-8] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe认证成功 - 用户ID: 1993606695821119488, 邮箱: yxy3213493159@qq.com, 角色数: 1
2025-11-27 08:58:50.497 [http-nio-9006-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/login
2025-11-27 08:58:50.498 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 08:58:50.498 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 08:58:50.498 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/login
2025-11-27 08:58:50.498 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 08:58:50.498 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 08:58:50.498 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 08:58:50.498 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 08:58:50.498 [http-nio-9006-exec-8] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 08:58:50.500 [http-nio-9006-exec-8] INFO  h.p.z.auth.controller.AuthController - 用户登录API请求: 邮箱=2816181175@qq.com
2025-11-27 08:58:50.500 [http-nio-9006-exec-8] INFO  h.p.z.a.service.impl.AuthServiceImpl - 处理用户登录: 邮箱=2816181175@qq.com
2025-11-27 08:58:50.500 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 开始加载用户信息: 2816181175@qq.com
2025-11-27 08:58:50.501 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.email=? 
        and u1_0.is_deleted=false
2025-11-27 08:58:50.591 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 08:58:50.619 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 08:58:50.621 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:58:50.692 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 08:58:50.693 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[2816181175@qq.com]加载完成 - 角色数: 1, 权限数: 0
2025-11-27 08:58:50.814 [http-nio-9006-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-27 08:58:50.821 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:58:50.915 [http-nio-9006-exec-8] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 08:58:50.918 [http-nio-9006-exec-8] INFO  h.p.z.a.service.impl.AuthServiceImpl - === 生成的Token信息 ===
2025-11-27 08:58:50.918 [http-nio-9006-exec-8] INFO  h.p.z.a.service.impl.AuthServiceImpl - 用户ID: 1993598896093401088
2025-11-27 08:58:50.918 [http-nio-9006-exec-8] INFO  h.p.z.a.service.impl.AuthServiceImpl - 用户角色: USER
2025-11-27 08:58:50.918 [http-nio-9006-exec-8] INFO  h.p.z.a.service.impl.AuthServiceImpl - 访问Token: eyJhbGciOiJIUzUxMiJ9.eyJyb2xlcyI6IlVTRVIiLCJ1c2VySWQiOjE5OTM1OTg4OTYwOTM0MDEwODgsImVtYWlsIjoiMjgxNjE4MTE3NUBxcS5jb20iLCJzdWIiOiIxOTkzNTk4ODk2MDkzNDAxMDg4IiwiaXNzIjoiemhpeWFuLXBsYXRmb3JtIiwiaWF0IjoxNzY0MjA1MTMwLCJleHAiOjE3NjQyMDY5MzB9.Njapg1uKrSkjSckIa5qyGS5JVSeNJ9c-l8GLGhyC0qwvcRXa1N5g0othVMDjpcUll6M_tCMZkWBoxVmV5_IiAQ
2025-11-27 08:58:50.918 [http-nio-9006-exec-8] INFO  h.p.z.a.service.impl.AuthServiceImpl - 刷新Token: eyJhbGciOiJIUzUxMiJ9.eyJyb2xlcyI6IlVTRVIiLCJ1c2VySWQiOjE5OTM1OTg4OTYwOTM0MDEwODgsImVtYWlsIjoiMjgxNjE4MTE3NUBxcS5jb20iLCJzdWIiOiIxOTkzNTk4ODk2MDkzNDAxMDg4IiwiaXNzIjoiemhpeWFuLXBsYXRmb3JtIiwiaWF0IjoxNzY0MjA1MTMwLCJleHAiOjE3NjY3OTcxMzB9.1PJ8C043aFHaCIzJe3YFhP5uTDiU0ZtqJjohaGLseRBJHSFoVv2FUA3UQ7dZceBeX7fC1Md4NUFPNFHDuo8iZw
2025-11-27 08:58:51.005 [http-nio-9006-exec-8] INFO  h.p.z.a.service.impl.AuthServiceImpl - JWT令牌生成成功 - 用户ID: 1993598896093401088, 记住我: true
2025-11-27 08:58:51.005 [http-nio-9006-exec-8] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 为用户 1993598896093401088 创建RememberMe token
2025-11-27 08:58:51.008 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 08:58:51.117 [http-nio-9006-exec-8] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 为用户 1993598896093401088 创建RememberMe token成功
2025-11-27 08:58:51.118 [http-nio-9006-exec-8] INFO  h.p.z.a.service.impl.AuthServiceImpl - 用户登录成功 - 用户ID: 1993598896093401088, 邮箱: 2816181175@qq.com, 记住我: true
2025-11-27 08:58:51.119 [http-nio-9006-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        zhiyanauth.remember_me_tokens
        (created_time, expiry_time, token, user_id, id) 
    values
        (?, ?, ?, ?, ?)
2025-11-27 08:58:51.292 [http-nio-9006-exec-8] DEBUG h.p.z.auth.controller.AuthController - 已添加RememberMe Cookie
2025-11-27 08:58:51.296 [http-nio-9006-exec-8] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993606695821119488, 用户名: yxy
2025-11-27 08:58:51.296 [http-nio-9006-exec-8] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 08:59:07.713 [http-nio-9006-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /zhiyan/projects/1993843554648199168
2025-11-27 08:59:07.799 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:59:07.873 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 08:59:07.917 [http-nio-9006-exec-9] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 08:59:07.918 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:59:08.033 [http-nio-9006-exec-9] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] DEBUG h.p.z.s.f.JwtAuthenticationFilter - JWT认证成功 - 用户ID: 1993598896093401088, 邮箱: 1993598896093401088, 角色数: 1
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /zhiyan/projects/1993843554648199168
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - Method: PUT
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/projects/1993843554648199168
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlcyI6IlVTRVIiLCJ1c2VySWQiOjE5OTM1OTg4OTYwOTM0MDEwODgsImVtYWlsIjoiMjgxNjE4MTE3NUBxcS5jb20iLCJzdWIiOiIxOTkzNTk4ODk2MDkzNDAxMDg4IiwiaXNzIjoiemhpeWFuLXBsYXRmb3JtIiwiaWF0IjoxNzY0MjA1MTMwLCJleHAiOjE3NjQyMDY5MzB9.Njapg1uKrSkjSckIa5qyGS5JVSeNJ9c-l8GLGhyC0qwvcRXa1N5g0othVMDjpcUll6M_tCMZkWBoxVmV5_IiAQ
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 08:59:08.034 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 08:59:08.035 [http-nio-9006-exec-9] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 08:59:08.053 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.creator_id,
        p1_0.description,
        p1_0.end_date,
        p1_0.imagedata,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.start_date,
        p1_0.status,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version,
        p1_0.visibility 
    from
        zhiyanproject.projects p1_0 
    where
        p1_0.id=?
2025-11-27 08:59:08.127 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id 
    from
        zhiyanproject.projects p1_0 
    where
        p1_0.name=? 
        and p1_0.id<>? 
        and p1_0.is_deleted=? 
    fetch
        first ? rows only
2025-11-27 08:59:08.215 [http-nio-9006-exec-9] INFO  h.p.z.p.s.impl.ProjectServiceImpl - 更新项目成功: id=1993843554648199168, name=我饿了
2025-11-27 08:59:08.220 [http-nio-9006-exec-9] DEBUG org.hibernate.SQL - 
    update
        zhiyanproject.projects 
    set
        created_by=?,
        creator_id=?,
        description=?,
        end_date=?,
        imagedata=?,
        is_deleted=?,
        name=?,
        start_date=?,
        status=?,
        updated_at=?,
        updated_by=?,
        version=?,
        visibility=? 
    where
        id=? 
        and version=?
2025-11-27 08:59:08.360 [http-nio-9006-exec-9] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 08:59:08.360 [http-nio-9006-exec-9] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 08:59:42.917 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/projects
2025-11-27 08:59:42.919 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 08:59:43.018 [http-nio-9006-exec-10] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe token验证成功，用户ID: 1993598896093401088
2025-11-27 08:59:43.019 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:59:43.071 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 08:59:43.124 [http-nio-9006-exec-10] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 08:59:43.125 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 08:59:43.200 [http-nio-9006-exec-10] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 08:59:43.201 [http-nio-9006-exec-10] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 08:59:43.202 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 08:59:43.286 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 08:59:43.347 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 08:59:43.529 [http-nio-9006-exec-10] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 刷新用户 1993598896093401088 的RememberMe token过期时间
2025-11-27 08:59:43.529 [http-nio-9006-exec-10] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe认证成功 - 用户ID: 1993598896093401088, 邮箱: 2816181175@qq.com, 角色数: 1
2025-11-27 08:59:43.530 [http-nio-9006-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/projects
2025-11-27 08:59:43.530 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 08:59:43.530 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 08:59:43.530 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/projects
2025-11-27 08:59:43.530 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 08:59:43.530 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 08:59:43.530 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 08:59:43.530 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 08:59:43.530 [http-nio-9006-exec-10] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 08:59:43.534 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id 
    from
        zhiyanproject.projects p1_0 
    where
        p1_0.name=? 
        and p1_0.is_deleted=false 
    fetch
        first ? rows only
2025-11-27 08:59:43.561 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    select
        pm1_0.id 
    from
        zhiyanproject.project_members pm1_0 
    where
        pm1_0.project_id=? 
        and pm1_0.user_id=? 
    fetch
        first ? rows only
2025-11-27 08:59:43.594 [http-nio-9006-exec-10] INFO  h.p.z.p.s.i.ProjectMemberServiceImpl - 内部添加项目成员成功: projectId=1993847168678629376, userId=1993598896093401088, role=OWNER
2025-11-27 08:59:43.595 [http-nio-9006-exec-10] INFO  h.p.z.p.s.impl.ProjectServiceImpl - 创建项目成功: id=1993847168678629376, name=AI智能分析平台, creatorId=1993598896093401088
2025-11-27 08:59:43.596 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        zhiyanproject.projects
        (created_at, created_by, creator_id, description, end_date, imagedata, is_deleted, name, start_date, status, updated_at, updated_by, version, visibility, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-27 08:59:43.674 [http-nio-9006-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        zhiyanproject.project_members
        (joined_at, project_id, project_role, user_id, id) 
    values
        (?, ?, ?, ?, ?)
2025-11-27 08:59:43.874 [http-nio-9006-exec-10] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 08:59:43.874 [http-nio-9006-exec-10] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 09:00:02.159 [http-nio-9006-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /zhiyan/projects/1993847168678629376
2025-11-27 09:00:02.160 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:00:02.215 [http-nio-9006-exec-2] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe token验证成功，用户ID: 1993598896093401088
2025-11-27 09:00:02.217 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:00:02.261 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:00:02.282 [http-nio-9006-exec-2] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 09:00:02.285 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:00:02.311 [http-nio-9006-exec-2] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 09:00:02.311 [http-nio-9006-exec-2] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:00:02.312 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:00:02.345 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:00:02.375 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:00:02.412 [http-nio-9006-exec-2] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 刷新用户 1993598896093401088 的RememberMe token过期时间
2025-11-27 09:00:02.412 [http-nio-9006-exec-2] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe认证成功 - 用户ID: 1993598896093401088, 邮箱: 2816181175@qq.com, 角色数: 1
2025-11-27 09:00:02.412 [http-nio-9006-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /zhiyan/projects/1993847168678629376
2025-11-27 09:00:02.413 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:00:02.413 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Method: DELETE
2025-11-27 09:00:02.413 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/projects/1993847168678629376
2025-11-27 09:00:02.413 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:00:02.413 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: null
2025-11-27 09:00:02.413 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:00:02.413 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:00:02.413 [http-nio-9006-exec-2] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:00:02.418 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.creator_id,
        p1_0.description,
        p1_0.end_date,
        p1_0.imagedata,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.start_date,
        p1_0.status,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version,
        p1_0.visibility 
    from
        zhiyanproject.projects p1_0 
    where
        p1_0.id=?
2025-11-27 09:00:02.452 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    select
        pm1_0.id,
        pm1_0.joined_at,
        pm1_0.project_id,
        pm1_0.project_role,
        pm1_0.user_id 
    from
        zhiyanproject.project_members pm1_0 
    where
        pm1_0.project_id=? 
        and pm1_0.user_id=?
2025-11-27 09:00:02.528 [http-nio-9006-exec-2] INFO  h.p.z.p.s.impl.ProjectServiceImpl - 软删除项目成功: id=1993847168678629376, operator=1993598896093401088 
2025-11-27 09:00:02.529 [http-nio-9006-exec-2] DEBUG org.hibernate.SQL - 
    update
        zhiyanproject.projects 
    set
        created_by=?,
        creator_id=?,
        description=?,
        end_date=?,
        imagedata=?,
        is_deleted=?,
        name=?,
        start_date=?,
        status=?,
        updated_at=?,
        updated_by=?,
        version=?,
        visibility=? 
    where
        id=? 
        and version=?
2025-11-27 09:00:02.659 [http-nio-9006-exec-2] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:00:02.659 [http-nio-9006-exec-2] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 09:00:47.229 [http-nio-9006-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /zhiyan/projects/1993847168678629376
2025-11-27 09:00:47.230 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:00:47.634 [http-nio-9006-exec-1] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe token验证成功，用户ID: 1993598896093401088
2025-11-27 09:00:47.635 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:00:47.727 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:00:47.818 [http-nio-9006-exec-1] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 09:00:47.820 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:00:47.896 [http-nio-9006-exec-1] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 09:00:47.897 [http-nio-9006-exec-1] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:00:47.898 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:00:47.968 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:00:48.027 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:00:48.094 [http-nio-9006-exec-1] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 刷新用户 1993598896093401088 的RememberMe token过期时间
2025-11-27 09:00:48.094 [http-nio-9006-exec-1] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe认证成功 - 用户ID: 1993598896093401088, 邮箱: 2816181175@qq.com, 角色数: 1
2025-11-27 09:00:48.094 [http-nio-9006-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /zhiyan/projects/1993847168678629376
2025-11-27 09:00:48.094 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:00:48.094 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Method: GET
2025-11-27 09:00:48.094 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/projects/1993847168678629376
2025-11-27 09:00:48.094 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:00:48.095 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: null
2025-11-27 09:00:48.095 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:00:48.095 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:00:48.095 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:00:48.114 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.creator_id,
        p1_0.description,
        p1_0.end_date,
        p1_0.imagedata,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.start_date,
        p1_0.status,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version,
        p1_0.visibility 
    from
        zhiyanproject.projects p1_0 
    where
        p1_0.id=?
2025-11-27 09:00:48.164 [http-nio-9006-exec-1] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:00:48.164 [http-nio-9006-exec-1] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 09:01:19.010 [http-nio-9006-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /zhiyan/projects/creator/1993598896093401088?page=0&size=10
2025-11-27 09:01:19.014 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:01:19.121 [http-nio-9006-exec-3] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe token验证成功，用户ID: 1993598896093401088
2025-11-27 09:01:19.122 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:01:19.206 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:01:19.275 [http-nio-9006-exec-3] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 09:01:19.276 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:01:19.340 [http-nio-9006-exec-3] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 09:01:19.341 [http-nio-9006-exec-3] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:01:19.342 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:01:19.470 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:01:19.522 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:01:19.618 [http-nio-9006-exec-3] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 刷新用户 1993598896093401088 的RememberMe token过期时间
2025-11-27 09:01:19.618 [http-nio-9006-exec-3] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe认证成功 - 用户ID: 1993598896093401088, 邮箱: 2816181175@qq.com, 角色数: 1
2025-11-27 09:01:19.619 [http-nio-9006-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /zhiyan/projects/creator/1993598896093401088?page=0&size=10
2025-11-27 09:01:19.619 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:01:19.619 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - Method: GET
2025-11-27 09:01:19.619 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/projects/creator/1993598896093401088
2025-11-27 09:01:19.619 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:01:19.619 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: null
2025-11-27 09:01:19.619 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:01:19.619 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:01:19.619 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:01:19.638 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.creator_id,
        p1_0.description,
        p1_0.end_date,
        p1_0.imagedata,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.start_date,
        p1_0.status,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version,
        p1_0.visibility 
    from
        zhiyanproject.projects p1_0 
    where
        p1_0.creator_id=? 
        and p1_0.is_deleted=? 
    fetch
        first ? rows only
2025-11-27 09:01:19.713 [http-nio-9006-exec-3] WARN  o.s.d.w.c.SpringDataJackson3Configuration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-27 09:01:19.730 [http-nio-9006-exec-3] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:01:19.730 [http-nio-9006-exec-3] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 09:01:31.456 [http-nio-9006-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /zhiyan/projects/creator/1993598896093401088?page=0&size=10
2025-11-27 09:01:31.458 [http-nio-9006-exec-6] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:01:31.493 [http-nio-9006-exec-6] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe token验证成功，用户ID: 1993598896093401088
2025-11-27 09:01:31.494 [http-nio-9006-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:01:31.526 [http-nio-9006-exec-6] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:01:31.600 [http-nio-9006-exec-6] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 09:01:31.601 [http-nio-9006-exec-6] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:01:31.612 [http-nio-9006-exec-6] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 09:01:31.612 [http-nio-9006-exec-6] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:01:31.613 [http-nio-9006-exec-6] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:01:31.627 [http-nio-9006-exec-6] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:01:31.642 [http-nio-9006-exec-6] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:01:31.680 [http-nio-9006-exec-6] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 刷新用户 1993598896093401088 的RememberMe token过期时间
2025-11-27 09:01:31.680 [http-nio-9006-exec-6] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe认证成功 - 用户ID: 1993598896093401088, 邮箱: 2816181175@qq.com, 角色数: 1
2025-11-27 09:01:31.681 [http-nio-9006-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /zhiyan/projects/creator/1993598896093401088?page=0&size=10
2025-11-27 09:01:31.681 [http-nio-9006-exec-6] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:01:31.681 [http-nio-9006-exec-6] INFO  h.p.z.m.config.RequestLoggingFilter - Method: GET
2025-11-27 09:01:31.681 [http-nio-9006-exec-6] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/projects/creator/1993598896093401088
2025-11-27 09:01:31.681 [http-nio-9006-exec-6] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:01:31.681 [http-nio-9006-exec-6] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: null
2025-11-27 09:01:31.681 [http-nio-9006-exec-6] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:01:31.682 [http-nio-9006-exec-6] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:01:31.682 [http-nio-9006-exec-6] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:01:31.684 [http-nio-9006-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.creator_id,
        p1_0.description,
        p1_0.end_date,
        p1_0.imagedata,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.start_date,
        p1_0.status,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version,
        p1_0.visibility 
    from
        zhiyanproject.projects p1_0 
    where
        p1_0.creator_id=? 
        and p1_0.is_deleted=? 
    fetch
        first ? rows only
2025-11-27 09:01:31.698 [http-nio-9006-exec-6] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:01:31.698 [http-nio-9006-exec-6] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 09:03:52.833 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 09:03:52.841 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-27 09:03:52.936 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:03:52.947 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown initiated...
2025-11-27 09:03:52.952 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown completed.
2025-11-27 09:03:58.030 [main] INFO  h.p.z.ZhiyanBackendApplication - Starting ZhiyanBackendApplication using Java 21.0.8 with PID 26640 (D:\workplace\spring\ZhiaYan\zhiyan-backend\zhiyan_backend_NewStruct\target\classes started by Administrator in D:\workplace\spring\ZhiaYan\zhiyan-backend\zhiyan_backend_NewStruct)
2025-11-27 09:03:58.034 [main] DEBUG h.p.z.ZhiyanBackendApplication - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-27 09:03:58.034 [main] INFO  h.p.z.ZhiyanBackendApplication - The following 1 profile is active: "cloud"
2025-11-27 09:03:59.511 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:03:59.513 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 09:03:59.930 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 405 ms. Found 16 JPA repository interfaces.
2025-11-27 09:03:59.951 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:03:59.953 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-27 09:04:00.027 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.028 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RememberMeTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.029 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RolePermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.029 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.030 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserAchievementRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.030 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.030 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.030 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.030 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageBodyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.030 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageRecipientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.030 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageSendRecordRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.031 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectMemberRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.031 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.031 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.031 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskSubmissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.032 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:04:00.032 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 0 Redis repository interfaces.
2025-11-27 09:04:00.985 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 9006 (http)
2025-11-27 09:04:01.005 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-27 09:04:01.006 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 09:04:01.096 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 3005 ms
2025-11-27 09:04:01.347 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 09:04:01.436 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 09:04:02.066 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 09:04:02.113 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Starting...
2025-11-27 09:04:02.673 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ZhiyanBackendHikariPool - Added connection org.postgresql.jdbc.PgConnection@78a34c47
2025-11-27 09:04:02.676 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Start completed.
2025-11-27 09:04:02.761 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 09:04:02.832 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://152.136.245.180:5432/zhiyanplatform?searchPath=zhiyanauth,zhiyanproject,zhiyantasks,zhiyanmessage]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 17.6
	Default catalog/schema: zhiyanplatform/zhiyanauth
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 09:04:05.075 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 09:04:05.082 [main] INFO  org.hibernate.orm.jdbc.batch - HHH100501: Automatic JDBC statement batching enabled (maximum batch size 20)
2025-11-27 09:04:05.771 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyanproject.project_members 
       alter column project_role set data type VARCHAR(32)
2025-11-27 09:04:05.815 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'
2025-11-27 09:04:05.874 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：107]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：107]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  位置：107
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:04:05.882 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'
2025-11-27 09:04:05.927 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：111]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：111]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  位置：111
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:04:05.994 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.task_submission 
       alter column review_status set data type VARCHAR(32)
2025-11-27 09:04:06.016 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.task_user 
       alter column assign_type set data type VARCHAR(32)
2025-11-27 09:04:06.055 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.task_user 
       alter column role_type set data type VARCHAR(32)
2025-11-27 09:04:06.108 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.tasks 
       alter column priority set data type VARCHAR(16)
2025-11-27 09:04:06.157 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.tasks 
       alter column status set data type VARCHAR(32)
2025-11-27 09:04:06.199 [main] DEBUG org.hibernate.SQL - 
    alter table if exists zhiyantasks.tasks 
       alter column worktime set data type DECIMAL(10,2)
2025-11-27 09:04:07.300 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:04:07.436 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - JSqlParser is in classpath; If applicable, JSqlParser will be used
2025-11-27 09:04:07.436 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 09:04:10.024 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-27 09:04:10.025 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-27 09:04:10.156 [main] DEBUG h.p.z.s.f.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-27 09:04:13.208 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 09:04:13.700 [main] INFO  h.p.z.a.o.c.OAuth2AutoConfiguration - OAuth2模块初始化完成，已启用1个提供商: [github]
2025-11-27 09:04:14.125 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 9006 (http) with context path '/'
2025-11-27 09:04:14.136 [main] INFO  h.p.z.ZhiyanBackendApplication - Started ZhiyanBackendApplication in 16.846 seconds (process running for 17.905)
2025-11-27 09:04:15.227 [main] INFO  h.p.z.sse.listener.SseTopicListener - 初始化SSE主题订阅监听器成功
2025-11-27 09:09:03.254 [http-nio-9006-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27 09:09:03.257 [http-nio-9006-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-27 09:09:03.298 [http-nio-9006-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 40 ms
2025-11-27 09:09:03.343 [http-nio-9006-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/reset-password
2025-11-27 09:09:03.593 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:09:03.698 [http-nio-9006-exec-1] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe token验证成功，用户ID: 1993598896093401088
2025-11-27 09:09:03.706 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:09:03.763 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:09:03.778 [http-nio-9006-exec-1] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 09:09:03.791 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:09:03.824 [http-nio-9006-exec-1] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 09:09:03.830 [http-nio-9006-exec-1] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:09:03.833 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:09:03.873 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:09:03.923 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:09:03.979 [http-nio-9006-exec-1] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 刷新用户 1993598896093401088 的RememberMe token过期时间
2025-11-27 09:09:03.979 [http-nio-9006-exec-1] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe认证成功 - 用户ID: 1993598896093401088, 邮箱: 2816181175@qq.com, 角色数: 1
2025-11-27 09:09:03.983 [http-nio-9006-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/reset-password
2025-11-27 09:09:03.983 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:09:03.983 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:09:03.984 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/reset-password
2025-11-27 09:09:03.984 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:09:03.984 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:09:03.984 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:09:03.984 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:09:03.984 [http-nio-9006-exec-1] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:09:04.251 [http-nio-9006-exec-1] INFO  h.p.z.auth.controller.AuthController - 重置密码请求: 邮箱=2816181175@qq.com
2025-11-27 09:09:04.251 [http-nio-9006-exec-1] INFO  h.p.z.a.service.impl.AuthServiceImpl - 处理重置密码请求 - 邮箱: 2816181175@qq.com
2025-11-27 09:09:04.253 [http-nio-9006-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.email=?
2025-11-27 09:09:04.430 [http-nio-9006-exec-1] ERROR h.p.z.a.s.i.VerificationCodeServiceImpl - 验证码验证异常 - 邮箱: 2816181175@qq.com, 类型: RESET_PASSWORD, 错误: Cannot read the array length because "bytes" is null
java.lang.NullPointerException: Cannot read the array length because "bytes" is null
	at hbnu.project.zhiyanbackend.redis.config.Jackson2JsonRedisSerializer.deserialize(Jackson2JsonRedisSerializer.java:85)
	at org.springframework.data.redis.core.AbstractOperations.deserializeValue(AbstractOperations.java:427)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:67)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:166)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:51)
	at hbnu.project.zhiyanbackend.redis.service.RedisService.getCacheObject(RedisService.java:98)
	at hbnu.project.zhiyanbackend.auth.service.impl.VerificationCodeServiceImpl.validateCode(VerificationCodeServiceImpl.java:146)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715)
	at hbnu.project.zhiyanbackend.auth.service.impl.VerificationCodeServiceImpl$$SpringCGLIB$$0.validateCode(<generated>)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl.resetPassword(AuthServiceImpl.java:689)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl$$SpringCGLIB$$0.resetPassword(<generated>)
	at hbnu.project.zhiyanbackend.auth.controller.AuthController.resetPassword(AuthController.java:269)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:09:04.563 [http-nio-9006-exec-1] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:09:04.564 [http-nio-9006-exec-1] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 09:09:34.002 [http-nio-9006-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/send-verfcode
2025-11-27 09:09:34.004 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:09:34.030 [http-nio-9006-exec-3] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe token验证成功，用户ID: 1993598896093401088
2025-11-27 09:09:34.031 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:09:34.054 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:09:34.064 [http-nio-9006-exec-3] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 09:09:34.065 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:09:34.098 [http-nio-9006-exec-3] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 09:09:34.098 [http-nio-9006-exec-3] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:09:34.099 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:09:34.112 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:09:34.123 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:09:34.154 [http-nio-9006-exec-3] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 刷新用户 1993598896093401088 的RememberMe token过期时间
2025-11-27 09:09:34.154 [http-nio-9006-exec-3] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe认证成功 - 用户ID: 1993598896093401088, 邮箱: 2816181175@qq.com, 角色数: 1
2025-11-27 09:09:34.154 [http-nio-9006-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/send-verfcode
2025-11-27 09:09:34.154 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:09:34.154 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:09:34.154 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/send-verfcode
2025-11-27 09:09:34.155 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:09:34.155 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:09:34.155 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:09:34.155 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:09:34.155 [http-nio-9006-exec-3] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:09:34.161 [http-nio-9006-exec-3] INFO  h.p.z.auth.controller.AuthController - 发送验证码请求: 邮箱=2816181175@qq.com, 类型=REGISTER
2025-11-27 09:09:34.186 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - 验证码: 250974
2025-11-27 09:09:34.324 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - ╔══════════════════════════════════════════════════════════╗
2025-11-27 09:09:34.325 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - ║              📧 验证码已生成（测试模式）                  ║
2025-11-27 09:09:34.325 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - ╠══════════════════════════════════════════════════════════╣
2025-11-27 09:09:34.325 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - ║  邮箱: 2816181175@qq.com                               ║
2025-11-27 09:09:34.325 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - ║  类型: REGISTER                                        ║
2025-11-27 09:09:34.325 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - ║  验证码: 【250974                                      ║】
2025-11-27 09:09:34.326 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - ║  有效期: 10                                          ║ 分钟
2025-11-27 09:09:34.326 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - ╚══════════════════════════════════════════════════════════╝
2025-11-27 09:09:37.217 [http-nio-9006-exec-3] INFO  h.p.z.a.service.impl.MailServiceImpl - 文本邮件发送成功 - 收件人: 2816181175@qq.com, 主题: 智研平台 - 注册验证码
2025-11-27 09:09:37.235 [http-nio-9006-exec-3] INFO  h.p.z.a.s.i.VerificationCodeServiceImpl - ✅ 验证码发送成功 - 邮箱: 2816181175@qq.com, 类型: REGISTER
2025-11-27 09:09:37.242 [http-nio-9006-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        zhiyanauth.verification_codes
        (code, created_at, email, expires_at, is_used, type, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-27 09:09:37.268 [http-nio-9006-exec-3] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:09:37.269 [http-nio-9006-exec-3] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 09:09:54.604 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /zhiyan/auth/reset-password
2025-11-27 09:09:54.606 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.token=?
2025-11-27 09:09:54.629 [http-nio-9006-exec-4] DEBUG h.p.z.a.service.impl.AuthServiceImpl - RememberMe token验证成功，用户ID: 1993598896093401088
2025-11-27 09:09:54.630 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:09:54.640 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        distinct p1_0.id,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.name,
        p1_0.updated_at,
        p1_0.updated_by,
        p1_0.version 
    from
        zhiyanauth.permissions p1_0 
    join
        zhiyanauth.role_permissions rp1_0 
            on p1_0.id=rp1_0.permission_id 
    join
        zhiyanauth.roles r1_0 
            on r1_0.id=rp1_0.role_id 
    join
        zhiyanauth.user_roles ur1_0 
            on r1_0.id=ur1_0.role_id 
    where
        ur1_0.user_id=?
2025-11-27 09:09:54.649 [http-nio-9006-exec-4] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]权限加载完成，共0个权限
2025-11-27 09:09:54.650 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        distinct u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        ur1_0.user_id,
        ur1_0.id,
        ur1_0.assigned_at,
        ur1_0.role_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.created_by,
        r1_0.description,
        r1_0.is_system_default,
        r1_0.name,
        r1_0.role_type,
        r1_0.updated_at,
        r1_0.updated_by,
        r1_0.version,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    left join
        zhiyanauth.user_roles ur1_0 
            on u1_0.id=ur1_0.user_id 
    left join
        zhiyanauth.roles r1_0 
            on r1_0.id=ur1_0.role_id 
    where
        u1_0.id=? 
        and u1_0.is_deleted=false
2025-11-27 09:09:54.662 [http-nio-9006-exec-4] DEBUG h.p.z.a.s.i.AuthUserDetailsServiceImpl - 用户[ID: 1993598896093401088]角色加载完成: [USER]
2025-11-27 09:09:54.662 [http-nio-9006-exec-4] DEBUG h.p.z.s.c.SecurityContextHolder - 设置用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:09:54.663 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.user_id=?
2025-11-27 09:09:54.674 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        rmt1_0.id,
        rmt1_0.created_time,
        rmt1_0.expiry_time,
        rmt1_0.token,
        rmt1_0.user_id 
    from
        zhiyanauth.remember_me_tokens rmt1_0 
    where
        rmt1_0.id=?
2025-11-27 09:09:54.685 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    update
        zhiyanauth.remember_me_tokens 
    set
        expiry_time=?,
        token=?,
        user_id=? 
    where
        id=?
2025-11-27 09:09:54.706 [http-nio-9006-exec-4] DEBUG h.p.z.a.service.impl.AuthServiceImpl - 刷新用户 1993598896093401088 的RememberMe token过期时间
2025-11-27 09:09:54.707 [http-nio-9006-exec-4] DEBUG h.p.z.s.f.JwtAuthenticationFilter - RememberMe认证成功 - 用户ID: 1993598896093401088, 邮箱: 2816181175@qq.com, 角色数: 1
2025-11-27 09:09:54.707 [http-nio-9006-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /zhiyan/auth/reset-password
2025-11-27 09:09:54.707 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - === Incoming Request ===
2025-11-27 09:09:54.707 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Method: POST
2025-11-27 09:09:54.707 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - URL: http://localhost:9006/zhiyan/auth/reset-password
2025-11-27 09:09:54.707 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Authorization: null
2025-11-27 09:09:54.707 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Content-Type: application/json
2025-11-27 09:09:54.708 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - User-Agent: Apifox/1.0.0 (https://apifox.com)
2025-11-27 09:09:54.708 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - Remote Addr: 0:0:0:0:0:0:0:1
2025-11-27 09:09:54.708 [http-nio-9006-exec-4] INFO  h.p.z.m.config.RequestLoggingFilter - =========================
2025-11-27 09:09:54.710 [http-nio-9006-exec-4] INFO  h.p.z.auth.controller.AuthController - 重置密码请求: 邮箱=2816181175@qq.com
2025-11-27 09:09:54.710 [http-nio-9006-exec-4] INFO  h.p.z.a.service.impl.AuthServiceImpl - 处理重置密码请求 - 邮箱: 2816181175@qq.com
2025-11-27 09:09:54.711 [http-nio-9006-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.avatar_content_type,
        u1_0.avatar_data,
        u1_0.avatar_size,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.institution,
        u1_0.is_deleted,
        u1_0.is_locked,
        u1_0.name,
        u1_0.password_hash,
        u1_0.research_tags,
        u1_0.status,
        u1_0.title,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.version 
    from
        zhiyanauth.users u1_0 
    where
        u1_0.email=?
2025-11-27 09:09:54.843 [http-nio-9006-exec-4] ERROR h.p.z.a.s.i.VerificationCodeServiceImpl - 验证码验证异常 - 邮箱: 2816181175@qq.com, 类型: RESET_PASSWORD, 错误: Cannot read the array length because "bytes" is null
java.lang.NullPointerException: Cannot read the array length because "bytes" is null
	at hbnu.project.zhiyanbackend.redis.config.Jackson2JsonRedisSerializer.deserialize(Jackson2JsonRedisSerializer.java:85)
	at org.springframework.data.redis.core.AbstractOperations.deserializeValue(AbstractOperations.java:427)
	at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:67)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:166)
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:51)
	at hbnu.project.zhiyanbackend.redis.service.RedisService.getCacheObject(RedisService.java:98)
	at hbnu.project.zhiyanbackend.auth.service.impl.VerificationCodeServiceImpl.validateCode(VerificationCodeServiceImpl.java:146)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715)
	at hbnu.project.zhiyanbackend.auth.service.impl.VerificationCodeServiceImpl$$SpringCGLIB$$0.validateCode(<generated>)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl.resetPassword(AuthServiceImpl.java:689)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715)
	at hbnu.project.zhiyanbackend.auth.service.impl.AuthServiceImpl$$SpringCGLIB$$0.resetPassword(<generated>)
	at hbnu.project.zhiyanbackend.auth.controller.AuthController.resetPassword(AuthController.java:269)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.message.config.RequestLoggingFilter.doFilter(RequestLoggingFilter.java:36)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at hbnu.project.zhiyanbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:231)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at hbnu.project.zhiyanbackend.security.filter.XssFilter.doFilter(XssFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-27 09:09:54.846 [http-nio-9006-exec-4] DEBUG h.p.z.s.c.SecurityContextHolder - 清除用户上下文 - 用户ID: 1993598896093401088, 用户名: Tokito
2025-11-27 09:09:54.846 [http-nio-9006-exec-4] DEBUG h.p.z.s.i.HeaderInterceptor - 清理请求上下文完成
2025-11-27 09:10:59.604 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 09:10:59.609 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-27 09:10:59.656 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:10:59.661 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown initiated...
2025-11-27 09:10:59.663 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown completed.
2025-11-27 09:11:04.816 [main] INFO  h.p.z.ZhiyanBackendApplication - Starting ZhiyanBackendApplication using Java 21.0.8 with PID 25516 (D:\workplace\spring\ZhiaYan\zhiyan-backend\zhiyan_backend_NewStruct\target\classes started by Administrator in D:\workplace\spring\ZhiaYan\zhiyan-backend\zhiyan_backend_NewStruct)
2025-11-27 09:11:04.820 [main] DEBUG h.p.z.ZhiyanBackendApplication - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-27 09:11:04.821 [main] INFO  h.p.z.ZhiyanBackendApplication - The following 1 profile is active: "cloud"
2025-11-27 09:11:06.778 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:11:06.782 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 09:11:07.647 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 846 ms. Found 16 JPA repository interfaces.
2025-11-27 09:11:07.683 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:11:07.688 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-27 09:11:07.779 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.779 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RememberMeTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.780 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RolePermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.781 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.782 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserAchievementRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.782 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.783 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.783 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.783 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageBodyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.784 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageRecipientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.784 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageSendRecordRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.784 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectMemberRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.785 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.786 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.787 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskSubmissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.787 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:11:07.788 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 0 Redis repository interfaces.
2025-11-27 09:11:08.940 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 9006 (http)
2025-11-27 09:11:08.961 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-27 09:11:08.962 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 09:11:09.064 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 4187 ms
2025-11-27 09:11:09.354 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 09:11:09.455 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 09:11:10.207 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 09:11:10.272 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Starting...
2025-11-27 09:11:10.584 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ZhiyanBackendHikariPool - Added connection org.postgresql.jdbc.PgConnection@2119b989
2025-11-27 09:11:10.586 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Start completed.
2025-11-27 09:11:10.652 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 09:11:10.707 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://152.136.245.180:5432/zhiyanplatform?searchPath=zhiyanauth,zhiyanproject,zhiyantasks,zhiyanmessage]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 17.6
	Default catalog/schema: zhiyanplatform/zhiyanauth
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 09:11:12.874 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 09:11:12.879 [main] INFO  org.hibernate.orm.jdbc.batch - HHH100501: Automatic JDBC statement batching enabled (maximum batch size 20)
2025-11-27 09:11:13.795 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：107]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：107]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  位置：107
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:11:13.813 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：111]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：111]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  位置：111
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:11:14.816 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:11:14.926 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - JSqlParser is in classpath; If applicable, JSqlParser will be used
2025-11-27 09:11:14.926 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 09:11:17.019 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-27 09:11:17.020 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-27 09:11:17.103 [main] DEBUG h.p.z.s.f.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-27 09:11:20.007 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 09:11:20.467 [main] INFO  h.p.z.a.o.c.OAuth2AutoConfiguration - OAuth2模块初始化完成，已启用1个提供商: [github]
2025-11-27 09:11:20.861 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 9006 (http) with context path '/'
2025-11-27 09:11:20.876 [main] INFO  h.p.z.ZhiyanBackendApplication - Started ZhiyanBackendApplication in 16.808 seconds (process running for 17.971)
2025-11-27 09:11:22.169 [main] INFO  h.p.z.sse.listener.SseTopicListener - 初始化SSE主题订阅监听器成功
2025-11-27 09:20:40.132 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27 09:20:40.139 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-27 09:20:40.181 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:20:40.184 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown initiated...
2025-11-27 09:20:40.186 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Shutdown completed.
2025-11-27 09:20:43.804 [main] INFO  h.p.z.ZhiyanBackendApplication - Starting ZhiyanBackendApplication using Java 21.0.8 with PID 29136 (D:\workplace\spring\ZhiaYan\zhiyan-backend\zhiyan_backend_NewStruct\target\classes started by Administrator in D:\workplace\spring\ZhiaYan\zhiyan-backend\zhiyan_backend_NewStruct)
2025-11-27 09:20:43.807 [main] DEBUG h.p.z.ZhiyanBackendApplication - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-27 09:20:43.808 [main] INFO  h.p.z.ZhiyanBackendApplication - The following 1 profile is active: "cloud"
2025-11-27 09:20:45.307 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:20:45.309 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27 09:20:45.830 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 505 ms. Found 16 JPA repository interfaces.
2025-11-27 09:20:45.856 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-27 09:20:45.858 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-27 09:20:45.953 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.954 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RememberMeTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.956 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RolePermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.958 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.959 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserAchievementRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.960 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.961 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.UserRoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.961 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.962 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageBodyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.962 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageRecipientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.963 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.message.repository.MessageSendRecordRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.963 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectMemberRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.963 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.projects.repository.ProjectRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.964 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.965 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskSubmissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.966 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface hbnu.project.zhiyanbackend.tasks.repository.TaskUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-27 09:20:45.966 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 88 ms. Found 0 Redis repository interfaces.
2025-11-27 09:20:47.104 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 9006 (http)
2025-11-27 09:20:47.127 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-27 09:20:47.127 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-11-27 09:20:47.232 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 3363 ms
2025-11-27 09:20:47.515 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27 09:20:47.607 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 7.1.8.Final
2025-11-27 09:20:48.464 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27 09:20:48.524 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Starting...
2025-11-27 09:20:49.804 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ZhiyanBackendHikariPool - Added connection org.postgresql.jdbc.PgConnection@2c51c756
2025-11-27 09:20:49.806 [main] INFO  com.zaxxer.hikari.HikariDataSource - ZhiyanBackendHikariPool - Start completed.
2025-11-27 09:20:49.918 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27 09:20:50.237 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://152.136.245.180:5432/zhiyanplatform?searchPath=zhiyanauth,zhiyanproject,zhiyantasks,zhiyanmessage]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 17.6
	Default catalog/schema: zhiyanplatform/zhiyanauth
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27 09:20:52.669 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27 09:20:52.674 [main] INFO  org.hibernate.orm.jdbc.batch - HHH100501: Automatic JDBC statement batching enabled (maximum batch size 20)
2025-11-27 09:20:53.860 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：107]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column status set data type VARCHAR(32) DEFAULT 'PLANNING'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：107]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  位置：107
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:20:53.885 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：111]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists zhiyanproject.projects 
       alter column visibility set data type VARCHAR(32) DEFAULT 'PRIVATE'" via JDBC [ERROR: syntax error at or near "DEFAULT"
  位置：111]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:93)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:573)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:513)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:331)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:82)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:230)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:109)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:267)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:142)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:139)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:350)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:436)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1459)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:356)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1712)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1461)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:231)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:185)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:180)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:165)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:97)
	at org.springframework.boot.web.context.servlet.WebApplicationContextInitializer.initialize(WebApplicationContextInitializer.java:53)
	at org.springframework.boot.tomcat.servlet.DeferredServletContainerInitializers.onStartup(DeferredServletContainerInitializers.java:55)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4416)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:767)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1162)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1158)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:714)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:201)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:410)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:864)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:435)
	at org.springframework.boot.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:131)
	at org.springframework.boot.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:110)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:408)
	at org.springframework.boot.tomcat.servlet.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:190)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:614)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1374)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at hbnu.project.zhiyanbackend.ZhiyanBackendApplication.main(ZhiyanBackendApplication.java:12)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "DEFAULT"
  位置：111
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	... 136 common frames omitted
2025-11-27 09:20:57.755 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27 09:20:57.862 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - JSqlParser is in classpath; If applicable, JSqlParser will be used
2025-11-27 09:20:57.863 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27 09:21:00.245 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-27 09:21:00.246 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-27 09:21:00.362 [main] DEBUG h.p.z.s.f.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-27 09:21:02.964 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27 09:21:03.502 [main] INFO  h.p.z.a.o.c.OAuth2AutoConfiguration - OAuth2模块初始化完成，已启用1个提供商: [github]
2025-11-27 09:21:03.968 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 9006 (http) with context path '/'
2025-11-27 09:21:03.978 [main] INFO  h.p.z.ZhiyanBackendApplication - Started ZhiyanBackendApplication in 20.875 seconds (process running for 21.884)
2025-11-27 09:21:05.862 [main] INFO  h.p.z.sse.listener.SseTopicListener - 初始化SSE主题订阅监听器成功
